<!DOCTYPE html>
<html>
<head>
 <<meta charset=utf-8>
 <script type=module src=./mod1.js></script>
</head>
<body>
 <script type=module>

  // import interface of module test
  import TEST from "./test.js";
  // import unittest function from module test (could be added with a , to above import statement)
  import { UNIT_TEST as UNITTEST_test} from "./test.js";

  // dynamically import a module
  (async () => {
   const { default: xxx } = await import("./test.js");
   console.log("await import", xxx)
  })();

  console.log("import.meta",import.meta);
  // call some dummy test
  TEST.start(TEST.types.UNIT, "loadmod.html")
  for(var i=0;i<100;++i)
    TEST(true)
  var v=TEST.Value(200,"timeout")
  TEST(v==201,"check timeout");
  TEST.end(TEST.types.UNIT, "loadmod.html")

  // test module test.js
  TEST.start(TEST.types.UNIT, "./test.js")
  UNITTEST_test(TEST)
  TEST.end(TEST.types.UNIT, "./test.js")
 </script>
</body>
<html>
